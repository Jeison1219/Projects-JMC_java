<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Se te ha asignado una tarea</title>
    <style>
      /* CSS inline simple y seguro para emails */
      body { font-family: Arial, Helvetica, sans-serif; margin:0; padding:0; background:#f5f7fb; color:#333; }
      .container { max-width:640px; margin:24px auto; background:#fff; border-radius:8px; overflow:hidden; box-shadow:0 6px 18px rgba(15,23,42,0.06); }
      .header { background: linear-gradient(90deg,#0ea5a0,#3b82f6); padding:18px; color:#fff; display:flex; align-items:center; gap:12px; }
      .header img { height:36px; width:auto; }
      .content { padding:20px; }
      h1 { margin:0 0 10px 0; font-size:20px; }
      p { margin:8px 0; line-height:1.45; }
      .card { background:#fafafa; padding:12px; border-radius:6px; margin:12px 0; }
      .btn { display:inline-block; padding:10px 16px; border-radius:6px; text-decoration:none; border:1px solid transparent; }
      .btn-primary { background:#3b82f6; color:#fff; border-color:#3b82f6; }
      .meta { font-size:13px; color:#666; margin-top:12px; }
      .footer { font-size:12px; color:#888; padding:12px 20px; background:#fcfcfd; text-align:center; }
      @media (max-width:480px){ .container{margin:12px} .header h1{font-size:18px} }
    </style>
  </head>
  <body>
    <table width="100%" cellpadding="0" cellspacing="0">
      <tr>
        <td align="center">
          <div class="container">
            <div class="header">
              <!-- Si incrustas imagen por CID, usa: <img src="cid:logoImage" alt="logo"/> -->
              <!-- Si usas URL pública o appUrl, Thymeleaf construirá la URL en el contexto -->
              <img src="cid:logoImage" alt="Logo" />
              <div>
                <h1>Se te ha asignado una tarea</h1>
                <div th:text="${appName}">Mi App</div>
              </div>
            </div>

            <div class="content">
              <p>Hola <strong th:text="${assigneeName}">Nombre</strong>,</p>

              <p>Has sido asignado(a) a la siguiente tarea:</p>

              <div class="card">
                <p><strong>Título:</strong> <span th:text="${taskTitle}">Título tarea</span></p>
                <p th:if="${projectName != null}"><strong>Proyecto:</strong> <span th:text="${projectName}">Proyecto X</span></p>
                <p><strong>Prioridad:</strong> <span th:text="${priority}">Media</span></p>
                <p><strong>Fecha límite:</strong> <span th:text="${dueDate}">DD/MM/YYYY</span></p>
                <p th:if="${taskDescription != null}"><strong>Descripción:</strong><br/><span th:utext="${taskDescription}">Descripción breve</span></p>
              </div>

              <p style="text-align:center;">
                <a th:href="${taskLink}" class="btn btn-primary">Ver tarea</a>
              </p>

              <p class="meta">Asignada por: <strong th:text="${assignedBy}">Asignador</strong></p>
              <p class="meta">Si no esperabas esto, responde a este correo o contacta al equipo.</p>
            </div>

            <div class="footer">
              © <span th:text="${year}">2025</span> <span th:text="${appName}">Mi App</span> — <span th:text="${supportEmail}">projectsjmc91@gmail.com</span>
            </div>
          </div>
        </td>
      </tr>
    </table>
  </body>
</html>
